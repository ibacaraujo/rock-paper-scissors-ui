<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Rock Paper Scissors</title>
</head>
<body>
	<script>
		function computerPlay() {
			plays = ["Rock", "Paper", "Scissors"];
			play = plays[Math.floor(Math.random() * plays.length)];
			return play;
		}

		function playRound(playerSelection, computerSelection) {
			playerSelection = playerSelection.charAt(0).toUpperCase() + playerSelection.substr(1).toLowerCase();
			computerSelection = computerSelection.charAt(0).toUpperCase() + computerSelection.substr(1).toLowerCase();
			let winner = "";
		    if (playerSelection == "Rock" && computerSelection == "Paper"
		    	|| playerSelection == "Paper" && computerSelection == "Scissors" 
		    	|| playerSelection == "Scissors" && computerSelection == "Rock") {
		        console.log("You Lose! " + computerSelection + " beats " + playerSelection);
		    	winner = "computer";
		    } else if (playerSelection == "Paper" && computerSelection == "Rock"
		    	|| playerSelection == "Scissors" && computerSelection == "Paper" 
		    	|| playerSelection == "Rock" && computerSelection == "Scissors") {
		    	console.log("You Won! " + playerSelection + " beats " + computerSelection);
		    	winner = "player";
		    } else { 
		    	console.log("This is a tie! Play again!");
		    	winner = "anyone";
		    }
		    return winner;
		}

		function game() {
			let rounds = 5;
			let playerScore = 0;
			let computerScore = 0;
			for(i = 0; i < rounds; i++) {
				console.log("Round #" + (i + 1));
				playerSelection = prompt("Rock, Paper or Scissors?");
				computerSelection = computerPlay();
				winner = playRound(playerSelection, computerSelection);
				if (winner == "computer") {
					computerScore = computerScore + 1;
				} else if (winner = "player") {
					playerScore = playerScore + 1;
				} else {
					continue;
				}
			}

			if (playerScore > computerScore) {
			    console.log("At the end of 5 rounds, the winner was... you!");
			} else if (playerScore < computerScore) {
				console.log("At the end of 5 rounds, the winner was... the computer!");
			} else {
				console.log("At the end of 5 rounds, the winner was... oh! It's a tie!");
			}
		}

		//const playerSelection = "rock";
		//const computerSelection = computerPlay();
		//console.log(playRound(playerSelection, computerSelection));
		game();
	</script>
</body>
</html>